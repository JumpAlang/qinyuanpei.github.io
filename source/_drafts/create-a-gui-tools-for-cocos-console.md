title: 为Cocos Console创建一个图形化工具
date: 2016-05-01 10:56:17
categories: [游戏引擎]
tags: [Cocos2D-X,工具,游戏引擎]
---
&emsp;&emsp;最近在考虑给Cocos Console写一个图形化的工具，众所周知Cocos Console是Cocos2D-X引擎中提供的一个命令行工具，通过该工具我们可以完成诸如创建项目、运行项目和导出项目等常见的功能。可是说实话Cocos2D-X这个引擎除了对程序员相对友好以外，基本上是找不到任何可以和Unity3D这样完整的解决方案相媲美的优点的，因为Cocos2D-X整体上偏极客些，从最初的Cocos Studio到如今的Cocos Creator，这个引擎的工具链完善可谓是历尽艰辛，现在Cocos Creator整体上向Unity3D靠拢，说明Cocos2D-X终于意识到工具链对游戏引擎的重要性，所以现在这个方向是正确的，今天这里博主主要想和大家分享我为Cocos Console写的一个图形化的工具——Cocos 控制台。

<!--more-->

#设计目标
&emsp;&emsp;Cocos 控制台的设计目标非常明确，它就是针对Cocos Console这个工具提供的一个图形化工具，主要功能有打开项目、创建项目和导出项目。因为我主要的工作都在Windows下，所以选择WinForm来作为GUI平台，当然如果有跨平台需求我们可以选择Qt，可是在这里，我看中的是WinForm在Windows下快速开发的特性，所以请大家不要纠结技术选型这个问题，我们设计工具的目的是为了提高工作效率，所以自然是什么技术适合这种场景就选择什么技术啦。目前完成的打开项目和创建项目的界面如下：

![打开项目]()

![创建项目]()


#技术原理
&emsp;&emsp;因为Cocos Console是一个命令行工具，所以针对这个工具设计得图形化工具无非就是在GUI程序中调用命令行，所以这个工作完成起来是并不困难的。通过查阅官方文档，Cocos Console中使用的常见命令有：
* 创建项目 cococs new
```
cocos new project_name -p {package_name} -l {language} -d {project_path}
```
* 编译项目 cocos 
```
cocos 
```
* 运行项目 cocos run 
```
cocos run
```
在了解了这些命令的用法以后，我们就可以使用.NET中提供的Process.Start()方法来调用命令行，这样就可以实现我们的设计目标了，因为这里实现上非常简单，我们这里就不再做详细说明了，这里博主想着重告诉大家的是，我们如何在调用命令行的时候捕捉命令的执行状态。举一个非常具体的例子，例如我们使用Git命令来提交项目的时候，我们可以非常清楚地在命令行窗口中看到提交状态，可是当我们通过调用命令行这种方式来编写一个GUI工具的时候，我们该如何获取命令行执行的状态，同时在GUI中给予用户准确及时的反馈呢？在我们这个工具中，我们需要创建一个新项目，那么由此产生的问题是，在调用命令行以后如何捕捉命令执行的状态以告知用户项目创建完成呢？我想这将是一个非常有趣的问题，因为命令行和GUI就像两种无法调和的鸡尾酒，在高效与直观的对比中演绎着两种不同的宇宙哲学，是追求更高的效率还是给予直观的表达，这是一个问题。

&emsp;&emsp;


#One More Thing